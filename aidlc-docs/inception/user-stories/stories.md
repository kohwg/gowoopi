# User Stories - 테이블오더 서비스

## 스토리 구성
- **분류 방식**: User Journey 기반
- **세분화**: Epic → Feature → Task 계층 구조
- **우선순위**: High / Medium / Low
- **추정치**: T-Shirt Sizes (XS, S, M, L, XL)

---

# EPIC 1: 고객 주문 여정

## Epic: E-001
**역할**: 고객 (김민수)  
**목표**: 메뉴 탐색부터 주문 확정까지 전체 주문 프로세스를 완료하고 싶다  
**이유**: 직원 도움 없이 편리하게 식사를 즐기기 위해

**우선순위**: High  
**추정치**: XL  
**의존성**: 없음 (시작점)

---

# E-001 하위 Feature Stories

## US-001 - 테이블 태블릿 자동 로그인
**역할**: 고객  
**목표**: 테이블에 앉으면 즉시 메뉴 화면에 접근하고 싶다  
**이유**: 로그인 절차 없이 바로 주문을 시작하기 위해

**우선순위**: High  
**추정치**: M  
**의존성**: 없음

### 수락 기준
- **Given** 태블릿에 테이블 인증 정보가 설정되어 있을 때
- **When** 태블릿을 열면
- **Then** 로그인 화면 없이 자동으로 메뉴 화면이 표시되어야 한다
- **And** 식사 시간 동안 세션이 유지되어야 한다
- **And** Access Token + Refresh Token으로 자동 갱신되어야 한다

### Task Stories

#### US-001-T1: 초기 테이블 설정 (관리자)
**역할**: 관리자  
**목표**: 테이블 인증 정보를 1회 설정하고 싶다  
**이유**: 고객이 자동 로그인을 사용할 수 있도록 하기 위해

**우선순위**: High | **추정치**: S | **의존성**: 없음

**수락 기준**:
- **Given** 관리자로 로그인한 상태에서
- **When** 매장 ID(UUID), 테이블 번호, 테이블 비밀번호를 입력하면
- **Then** 인증 정보가 Cookie에 저장되어야 한다
- **And** 테이블이 고객 자동 로그인 준비 상태가 되어야 한다
- **And** 16시간 유효 세션이 생성되어야 한다

#### US-001-T2: 자동 로그인 실행
**역할**: 고객  
**목표**: 저장된 인증 정보로 태블릿이 자동 로그인되길 원한다  
**이유**: 어떤 정보도 입력하지 않아도 되기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-001-T1

**수락 기준**:
- **Given** Cookie에 테이블 인증 정보가 저장되어 있을 때
- **When** 태블릿이 시작되거나 새로고침되면
- **Then** 시스템이 자동으로 인증해야 한다
- **And** 즉시 메뉴 화면이 표시되어야 한다
- **And** Access Token과 Refresh Token이 발급되어야 한다

#### US-001-T3: 세션 자동 갱신
**역할**: 고객  
**목표**: 세션이 중단 없이 유지되길 원한다  
**이유**: 식사 중 언제든 주문할 수 있기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-001-T2

**수락 기준**:
- **Given** Access Token으로 로그인된 상태에서
- **When** Access Token이 만료되면
- **Then** Refresh Token을 사용하여 자동으로 갱신해야 한다
- **And** 사용자가 중단을 느끼지 않아야 한다
- **And** 갱신은 백그라운드에서 이루어져야 한다

---

## US-002 - 메뉴 조회 및 탐색
**역할**: 고객  
**목표**: 이미지와 설명이 포함된 메뉴를 카테고리별로 탐색하고 싶다  
**이유**: 원하는 음식을 찾아 선택하기 위해

**우선순위**: High  
**추정치**: L  
**의존성**: US-001

### 수락 기준
- **Given** 메뉴 화면에 있을 때
- **When** 메뉴를 조회하면
- **Then** 카테고리별로 정리된 메뉴가 표시되어야 한다
- **And** 각 메뉴에 이름, 가격, 설명, 이미지가 표시되어야 한다
- **And** HeroUI Card 컴포넌트 기반 레이아웃이어야 한다
- **And** 버튼은 터치 편의를 위해 최소 44x44px이어야 한다
- **And** 카테고리 간 빠른 이동이 가능해야 한다

### Task Stories

#### US-002-T1: 카테고리별 메뉴 표시
**역할**: 고객  
**목표**: 카테고리별로 그룹화된 메뉴를 보고 싶다  
**이유**: 특정 종류의 음식을 쉽게 찾기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-001

**수락 기준**:
- **Given** 데이터베이스에 메뉴가 존재할 때
- **When** 메뉴 화면을 열면
- **Then** 카테고리 탭 또는 섹션이 표시되어야 한다
- **And** 메뉴가 해당 카테고리 아래에 그룹화되어야 한다
- **And** 카테고리 간 전환이 가능해야 한다

#### US-002-T2: 메뉴 상세 정보 표시
**역할**: 고객  
**목표**: 각 메뉴 항목의 상세 정보를 보고 싶다  
**이유**: 정보에 기반한 결정을 내리기 위해

**우선순위**: High | **추정치**: S | **의존성**: US-002-T1

**수락 기준**:
- **Given** 메뉴 카테고리를 보고 있을 때
- **When** 메뉴 항목을 확인하면
- **Then** 메뉴명, 가격, 설명이 표시되어야 한다
- **And** 외부 URL의 이미지가 표시되어야 한다
- **And** 정보가 명확하게 읽을 수 있어야 한다

#### US-002-T3: 터치 친화적 UI
**역할**: 고객  
**목표**: 크고 누르기 쉬운 버튼을 원한다  
**이유**: 메뉴 선택 시 실수를 방지하기 위해

**우선순위**: Medium | **추정치**: S | **의존성**: US-002-T1

**수락 기준**:
- **Given** 터치 스크린을 사용할 때
- **When** 메뉴 항목과 상호작용하면
- **Then** 모든 인터랙티브 요소가 최소 44x44px이어야 한다
- **And** 터치 시 명확한 시각적 피드백이 있어야 한다
- **And** 레이아웃이 실수 터치를 방지해야 한다

---

## US-003 - 장바구니 관리
**역할**: 고객  
**목표**: 메뉴를 장바구니에 추가하고 수량을 조절하고 싶다  
**이유**: 주문 확정 전에 주문을 준비하기 위해

**우선순위**: High  
**추정치**: L  
**의존성**: US-002

### 수락 기준
- **Given** 메뉴를 탐색하고 있을 때
- **When** 항목을 장바구니에 추가하면
- **Then** 장바구니에 수량과 함께 항목이 저장되어야 한다
- **And** 수량 증가/감소가 가능해야 한다
- **And** 총 금액이 실시간으로 업데이트되어야 한다
- **And** 페이지 새로고침 후에도 장바구니가 유지되어야 한다
- **And** 항목 삭제 또는 전체 비우기가 가능해야 한다

### Task Stories

#### US-003-T1: 장바구니에 메뉴 추가
**역할**: 고객  
**목표**: 메뉴 항목을 장바구니에 추가하고 싶다  
**이유**: 주문 전에 항목을 모으기 위해

**우선순위**: High | **추정치**: S | **의존성**: US-002

**수락 기준**:
- **Given** 메뉴 항목을 보고 있을 때
- **When** "장바구니 추가" 버튼을 클릭하면
- **Then** 항목이 장바구니에 추가되어야 한다
- **And** 장바구니 아이콘에 업데이트된 항목 수가 표시되어야 한다
- **And** 시각적 확인이 표시되어야 한다

#### US-003-T2: 수량 조절
**역할**: 고객  
**목표**: 장바구니에서 항목 수량을 증가 또는 감소시키고 싶다  
**이유**: 원하는 정확한 수량을 주문하기 위해

**우선순위**: High | **추정치**: S | **의존성**: US-003-T1

**수락 기준**:
- **Given** 장바구니에 항목이 있을 때
- **When** 증가/감소 버튼을 클릭하면
- **Then** 수량이 즉시 업데이트되어야 한다
- **And** 총 금액이 재계산되어야 한다
- **And** 수량이 0이 되면 항목이 삭제되어야 한다

#### US-003-T3: 총 금액 실시간 계산
**역할**: 고객  
**목표**: 장바구니 수정 시 총 금액이 업데이트되는 것을 보고 싶다  
**이유**: 얼마를 지불할지 알기 위해

**우선순위**: High | **추정치**: XS | **의존성**: US-003-T2

**수락 기준**:
- **Given** 장바구니에 항목이 있을 때
- **When** 수량을 변경하거나 항목을 추가/삭제하면
- **Then** 총 금액이 즉시 업데이트되어야 한다
- **And** 계산이 정확해야 한다 (수량 × 단가)

#### US-003-T4: 장바구니 로컬 저장
**역할**: 고객  
**목표**: 장바구니가 로컬에 저장되길 원한다  
**이유**: 페이지 새로고침 시 선택 항목을 잃지 않기 위해

**우선순위**: Medium | **추정치**: S | **의존성**: US-003-T1

**수락 기준**:
- **Given** 장바구니에 항목이 있을 때
- **When** 페이지를 새로고침하거나 브라우저를 닫았다 다시 열면
- **Then** 장바구니 항목이 그대로 있어야 한다
- **And** 수량과 총 금액이 보존되어야 한다

#### US-003-T5: 장바구니 비우기
**역할**: 고객  
**목표**: 장바구니의 모든 항목을 한 번에 비우고 싶다  
**이유**: 마음이 바뀌면 처음부터 다시 시작하기 위해

**우선순위**: Low | **추정치**: XS | **의존성**: US-003-T1

**수락 기준**:
- **Given** 장바구니에 항목이 있을 때
- **When** "장바구니 비우기" 버튼을 클릭하면
- **Then** 모든 항목이 삭제되어야 한다
- **And** 총 금액이 0이 되어야 한다
- **And** 비우기 전 확인 메시지가 표시되어야 한다

---

## US-004 - 주문 생성
**역할**: 고객  
**목표**: 주문을 확정하고 제출하고 싶다  
**이유**: 주방에서 음식을 준비할 수 있도록 하기 위해

**우선순위**: High  
**추정치**: L  
**의존성**: US-003

### 수락 기준
- **Given** 장바구니에 항목이 있을 때
- **When** 주문을 확정하면
- **Then** 주문이 서버로 전송되어야 한다
- **And** 성공 시 주문 번호가 표시되어야 한다
- **And** 장바구니가 자동으로 비워져야 한다
- **And** 5초 후 메뉴 화면으로 자동 리다이렉트되어야 한다
- **And** 실패 시 에러 메시지가 표시되고 장바구니가 유지되어야 한다

### Task Stories

#### US-004-T1: 주문 내역 최종 확인
**역할**: 고객  
**목표**: 확정 전에 주문을 검토하고 싶다  
**이유**: 모든 것이 올바른지 확인하기 위해

**우선순위**: High | **추정치**: S | **의존성**: US-003

**수락 기준**:
- **Given** 장바구니에 항목이 있을 때
- **When** "주문하기" 버튼을 클릭하면
- **Then** 확인 화면이 표시되어야 한다
- **And** 모든 항목, 수량, 총 금액이 표시되어야 한다
- **And** "확정" 또는 "취소" 옵션이 있어야 한다

#### US-004-T2: 주문 확정 및 전송
**역할**: 고객  
**목표**: 주문을 시스템에 제출하고 싶다  
**이유**: 레스토랑이 준비를 시작할 수 있도록 하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-004-T1

**수락 기준**:
- **Given** 주문 확인 화면에 있을 때
- **When** "확정"을 클릭하면
- **Then** 매장 ID, 테이블 ID, 세션 ID, 항목, 총 금액과 함께 서버로 전송되어야 한다
- **And** API 응답 시간이 100ms 이하여야 한다
- **And** 전송 중 로딩 인디케이터가 표시되어야 한다

#### US-004-T3: 주문 성공 처리
**역할**: 고객  
**목표**: 주문 성공 시 확인을 보고 싶다  
**이유**: 레스토랑이 주문을 받았음을 알기 위해

**우선순위**: High | **추정치**: S | **의존성**: US-004-T2

**수락 기준**:
- **Given** 주문이 성공적으로 제출되었을 때
- **When** 서버가 성공 응답을 반환하면
- **Then** 주문 번호가 표시되어야 한다
- **And** 장바구니가 자동으로 비워져야 한다
- **And** 5초 후 메뉴 화면으로 자동 리다이렉트되어야 한다

#### US-004-T4: 주문 실패 처리
**역할**: 고객  
**목표**: 주문 실패 시 에러 메시지를 보고 싶다  
**이유**: 다시 시도할 수 있기 위해

**우선순위**: High | **추정치**: S | **의존성**: US-004-T2

**수락 기준**:
- **Given** 주문 제출이 실패했을 때
- **When** 서버가 에러 응답을 반환하면
- **Then** 명확한 에러 메시지가 표시되어야 한다
- **And** 장바구니가 그대로 유지되어야 한다
- **And** 다시 제출을 시도할 수 있어야 한다

---

## US-005 - 주문 내역 조회
**역할**: 고객  
**목표**: 현재 세션의 주문 내역을 조회하고 싶다  
**이유**: 주문한 내용과 상태를 추적하기 위해

**우선순위**: Medium  
**추정치**: M  
**의존성**: US-004

### 수락 기준
- **Given** 이번 세션에서 주문을 했을 때
- **When** 주문 내역으로 이동하면
- **Then** 현재 테이블 세션의 모든 주문이 표시되어야 한다
- **And** 주문이 시간순으로 정렬되어야 한다 (최신 먼저)
- **And** 각 주문에 주문 번호, 시각, 항목, 금액, 상태가 표시되어야 한다
- **And** 이전 세션의 주문은 표시되지 않아야 한다

### Task Stories

#### US-005-T1: 주문 목록 표시
**역할**: 고객  
**목표**: 내 주문 목록을 보고 싶다  
**이유**: 주문한 내용을 검토하기 위해

**우선순위**: Medium | **추정치**: M | **의존성**: US-004

**수락 기준**:
- **Given** 주문을 한 상태에서
- **When** 주문 내역 화면을 열면
- **Then** 현재 세션의 모든 주문이 표시되어야 한다
- **And** 주문이 시간순으로 정렬되어야 한다 (최신 먼저)
- **And** 각 주문에 기본 정보가 표시되어야 한다

#### US-005-T2: 주문 상세 정보 표시
**역할**: 고객  
**목표**: 각 주문의 상세 정보를 보고 싶다  
**이유**: 항목과 금액을 확인하기 위해

**우선순위**: Medium | **추정치**: S | **의존성**: US-005-T1

**수락 기준**:
- **Given** 주문 내역을 보고 있을 때
- **When** 주문을 확인하면
- **Then** 주문 번호, 시각, 메뉴 항목과 수량, 총 금액, 상태가 표시되어야 한다
- **And** 정보가 주문한 내용과 일치해야 한다

#### US-005-T3: 주문 상태 표시 (선택사항)
**역할**: 고객  
**목표**: 주문의 현재 상태를 보고 싶다  
**이유**: 음식이 언제 준비될지 알기 위해

**우선순위**: Low | **추정치**: S | **의존성**: US-005-T1

**수락 기준**:
- **Given** 주문 내역을 보고 있을 때
- **When** 주문 상태가 변경되면
- **Then** 업데이트된 상태가 표시되어야 한다 (대기중/준비중/완료)
- **And** 상태가 실시간으로 업데이트되어야 한다 (선택사항)

---

# EPIC 2: 관리자 운영 여정

## Epic: E-002
**역할**: 관리자 (박지영)  
**목표**: 주문, 테이블, 메뉴를 포함한 모든 레스토랑 운영을 관리하고 싶다  
**이유**: 레스토랑을 효율적으로 운영하기 위해

**우선순위**: High  
**추정치**: XL  
**의존성**: E-001 (관리할 고객 주문이 존재해야 함)

---

# E-002 하위 Feature Stories

## US-006 - 매장 인증
**역할**: 관리자  
**목표**: 관리자 시스템에 안전하게 로그인하고 싶다  
**이유**: 관리 기능에 접근하기 위해

**우선순위**: High  
**추정치**: M  
**의존성**: 없음

### 수락 기준
- **Given** 관리자 인증 정보가 있을 때
- **When** 매장 ID, 사용자명, 비밀번호를 입력하면
- **Then** JWT 토큰으로 인증되어야 한다
- **And** HTTP-only Cookie에 Access Token과 Refresh Token이 저장되어야 한다
- **And** 자동 갱신으로 세션이 유지되어야 한다
- **And** 페이지 새로고침 시에도 세션이 유지되어야 한다

### Task Stories

#### US-006-T1: 로그인 화면
**역할**: 관리자  
**목표**: 로그인 화면에서 인증 정보를 입력하고 싶다  
**이유**: 시스템에 접근하기 위해

**우선순위**: High | **추정치**: S | **의존성**: 없음

**수락 기준**:
- **Given** 로그인하지 않은 상태에서
- **When** 관리자 시스템에 접근하면
- **Then** 로그인 폼이 표시되어야 한다
- **And** 매장 ID(UUID), 사용자명, 비밀번호 필드가 있어야 한다
- **And** "로그인" 버튼이 있어야 한다

#### US-006-T2: 인증 처리
**역할**: 관리자  
**목표**: 시스템이 내 인증 정보를 검증하길 원한다  
**이유**: 인가된 사용자만 접근할 수 있도록 하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-006-T1

**수락 기준**:
- **Given** 인증 정보를 입력한 상태에서
- **When** "로그인"을 클릭하면
- **Then** 시스템이 데이터베이스와 대조하여 검증해야 한다
- **And** 비밀번호는 bcrypt로 비교되어야 한다
- **And** 성공 시 JWT 토큰이 발급되어야 한다
- **And** 실패 시 에러 메시지가 표시되어야 한다

#### US-006-T3: 세션 자동 갱신
**역할**: 관리자  
**목표**: 하루 종일 세션이 유지되길 원한다  
**이유**: 반복적으로 로그인하지 않기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-006-T2

**수락 기준**:
- **Given** 로그인한 상태에서
- **When** Access Token이 만료되면
- **Then** Refresh Token을 사용하여 자동으로 갱신해야 한다
- **And** 로그아웃되지 않아야 한다
- **And** 갱신은 백그라운드에서 이루어져야 한다


---

## US-007 - 실시간 주문 모니터링
**역할**: 관리자  
**목표**: 들어오는 모든 주문을 실시간으로 확인하고 싶다  
**이유**: 고객 주문에 빠르게 대응하기 위해

**우선순위**: High  
**추정치**: XL  
**의존성**: US-006, US-004 (주문이 존재해야 함)

### 수락 기준
- **Given** 관리자로 로그인한 상태에서
- **When** 고객이 주문을 하면
- **Then** 2초 이내에 새 주문이 표시되어야 한다
- **And** HeroUI Card 컴포넌트로 그리드 레이아웃에 표시되어야 한다
- **And** 각 테이블 카드에 총 주문액과 최근 주문이 표시되어야 한다
- **And** 신규 주문이 시각적으로 강조되어야 한다
- **And** 테이블별 필터링이 가능해야 한다

### Task Stories

#### US-007-T1: 대시보드 그리드 레이아웃
**역할**: 관리자  
**목표**: 모든 테이블을 그리드 레이아웃으로 보고 싶다  
**이유**: 여러 테이블을 한눈에 파악하기 위해

**우선순위**: High | **추정치**: L | **의존성**: US-006

**수락 기준**:
- **Given** 관리자 대시보드에 있을 때
- **When** 화면을 보면
- **Then** 그리드 레이아웃에 테이블 카드가 표시되어야 한다
- **And** 각 카드가 하나의 테이블을 나타내야 한다
- **And** HeroUI Card 컴포넌트를 사용해야 한다
- **And** 레이아웃이 반응형이어야 한다

#### US-007-T2: 테이블별 주문 요약
**역할**: 관리자  
**목표**: 각 테이블의 주문 요약을 보고 싶다  
**이유**: 테이블 상태를 빠르게 파악하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-007-T1

**수락 기준**:
- **Given** 대시보드를 보고 있을 때
- **When** 테이블 카드를 확인하면
- **Then** 테이블 번호가 표시되어야 한다
- **And** 해당 테이블의 총 주문액이 표시되어야 한다
- **And** 최근 n개 주문의 미리보기가 표시되어야 한다
- **And** 정보가 명확하게 읽을 수 있어야 한다

#### US-007-T3: 실시간 주문 업데이트 (SSE)
**역할**: 관리자  
**목표**: 새 주문이 자동으로 표시되길 원한다  
**이유**: 페이지를 새로고침하지 않아도 되기 위해

**우선순위**: High | **추정치**: L | **의존성**: US-007-T1

**수락 기준**:
- **Given** 대시보드를 보고 있을 때
- **When** 고객이 주문을 하면
- **Then** 2초 이내에 화면에 주문이 표시되어야 한다
- **And** Server-Sent Events (SSE)를 사용해야 한다
- **And** 연결이 안정적으로 유지되어야 한다
- **And** 연결이 끊기면 자동으로 재연결되어야 한다

#### US-007-T4: 신규 주문 시각적 강조
**역할**: 관리자  
**목표**: 신규 주문이 시각적으로 강조되길 원한다  
**이유**: 즉시 알아차리기 위해

**우선순위**: Medium | **추정치**: S | **의존성**: US-007-T3

**수락 기준**:
- **Given** 새 주문이 도착했을 때
- **When** 대시보드에 표시되면
- **Then** 다른 색상이나 애니메이션으로 강조되어야 한다
- **And** 몇 초 후 강조가 사라져야 한다
- **And** 기존 주문과 구별할 수 있어야 한다

#### US-007-T5: 주문 상세 보기 (Modal)
**역할**: 관리자  
**목표**: 주문 카드를 클릭하여 전체 상세 정보를 보고 싶다  
**이유**: 모든 메뉴 항목을 검토하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-007-T1

**수락 기준**:
- **Given** 대시보드를 보고 있을 때
- **When** 주문 카드를 클릭하면
- **Then** HeroUI Modal이 열려야 한다
- **And** 수량이 포함된 전체 메뉴 목록이 표시되어야 한다
- **And** 주문 번호, 시각, 총 금액이 표시되어야 한다
- **And** Modal을 닫을 수 있어야 한다

#### US-007-T6: 테이블별 필터링
**역할**: 관리자  
**목표**: 테이블별로 주문을 필터링하고 싶다  
**이유**: 특정 테이블에 집중하기 위해

**우선순위**: Low | **추정치**: S | **의존성**: US-007-T1

**수락 기준**:
- **Given** 대시보드를 보고 있을 때
- **When** 테이블 필터를 선택하면
- **Then** 해당 테이블의 주문만 표시되어야 한다
- **And** 필터를 해제하여 모든 테이블을 볼 수 있어야 한다

---

## US-008 - 주문 상태 관리
**역할**: 관리자  
**목표**: 주문 진행에 따라 상태를 업데이트하고 싶다  
**이유**: 고객과 직원이 주문 상태를 알 수 있도록 하기 위해

**우선순위**: High  
**추정치**: M  
**의존성**: US-007

### 수락 기준
- **Given** 주문을 보고 있을 때
- **When** 상태를 변경하면
- **Then** 상태가 즉시 업데이트되어야 한다
- **And** 변경이 데이터베이스에 저장되어야 한다
- **And** 고객이 업데이트된 상태를 볼 수 있어야 한다 (실시간 업데이트 구현 시)

### Task Stories

#### US-008-T1: 주문 상태 변경
**역할**: 관리자  
**목표**: 주문 상태를 대기중에서 준비중, 완료로 변경하고 싶다  
**이유**: 주문 진행 상황을 추적하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-007

**수락 기준**:
- **Given** 주문을 보고 있을 때
- **When** 상태 드롭다운이나 버튼을 클릭하면
- **Then** 대기중, 준비중, 완료 옵션이 표시되어야 한다
- **And** 상태를 선택하면 즉시 업데이트되어야 한다
- **And** 변경이 데이터베이스에 저장되어야 한다

---

## US-009 - 테이블 관리
**역할**: 관리자  
**목표**: 테이블 세션과 주문을 관리하고 싶다  
**이유**: 테이블 회전과 수정을 처리하기 위해

**우선순위**: High  
**추정치**: L  
**의존성**: US-007

### 수락 기준
- **Given** 테이블을 관리하고 있을 때
- **When** 테이블 작업을 수행하면
- **Then** 테이블 설정, 주문 삭제, 세션 완료, 내역 조회가 가능해야 한다
- **And** 모든 작업에 확인 팝업이 있어야 한다
- **And** 변경이 즉시 반영되어야 한다

### Task Stories

#### US-009-T1: 테이블 초기 설정
**역할**: 관리자  
**목표**: 테이블 인증 정보를 설정하고 싶다  
**이유**: 고객이 자동 로그인을 사용할 수 있도록 하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-006

**수락 기준**:
- **Given** 관리자로 로그인한 상태에서
- **When** 테이블 번호와 비밀번호를 설정하면
- **Then** 인증 정보가 저장되어야 한다
- **And** 16시간 세션이 생성되어야 한다
- **And** 테이블이 고객 사용 준비 상태가 되어야 한다

#### US-009-T2: 주문 삭제 (직권 수정)
**역할**: 관리자  
**목표**: 특정 주문을 삭제하고 싶다  
**이유**: 실수를 수정하거나 취소를 처리하기 위해

**우선순위**: High | **추정치**: S | **의존성**: US-007

**수락 기준**:
- **Given** 주문을 보고 있을 때
- **When** "삭제" 버튼을 클릭하면
- **Then** 확인 팝업이 표시되어야 한다
- **And** 확인 후 주문이 삭제되어야 한다
- **And** 테이블의 총 주문액이 재계산되어야 한다
- **And** 성공/실패 피드백이 표시되어야 한다

#### US-009-T3: 테이블 이용 완료
**역할**: 관리자  
**목표**: 테이블 세션을 완료 처리하고 싶다  
**이유**: 새 고객을 위해 테이블을 준비하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-007

**수락 기준**:
- **Given** 고객이 식사를 마치고 떠났을 때
- **When** 해당 테이블의 "이용 완료"를 클릭하면
- **Then** 확인 팝업이 표시되어야 한다
- **And** 확인 후 모든 주문이 과거 이력으로 이동해야 한다
- **And** 테이블의 현재 주문과 총액이 0으로 리셋되어야 한다
- **And** 새 고객이 이전 주문 없이 시작할 수 있어야 한다

#### US-009-T4: 과거 주문 내역 조회
**역할**: 관리자  
**목표**: 테이블의 과거 주문을 조회하고 싶다  
**이유**: 이력을 검토하거나 문제를 해결하기 위해

**우선순위**: Medium | **추정치**: M | **의존성**: US-009-T3

**수락 기준**:
- **Given** 테이블을 보고 있을 때
- **When** "과거 내역"을 클릭하면
- **Then** 과거 주문이 시간 역순으로 표시되어야 한다
- **And** 각 주문에 주문 번호, 시각, 항목, 금액, 완료 시각이 표시되어야 한다
- **And** 날짜별 필터링이 가능해야 한다
- **And** 닫기 버튼으로 대시보드로 복귀할 수 있어야 한다

---

## US-010 - 메뉴 관리
**역할**: 관리자  
**목표**: 메뉴 항목을 관리하고 싶다  
**이유**: 메뉴를 최신 상태로 유지하기 위해

**우선순위**: High  
**추정치**: L  
**의존성**: US-006

### 수락 기준
- **Given** 관리자로 로그인한 상태에서
- **When** 메뉴 관리에 접근하면
- **Then** 메뉴 조회, 등록, 수정, 삭제가 가능해야 한다
- **And** 카테고리별로 메뉴를 정리할 수 있어야 한다
- **And** 노출 순서를 조정할 수 있어야 한다
- **And** 모든 변경이 검증되고 저장되어야 한다

### Task Stories

#### US-010-T1: 메뉴 목록 조회
**역할**: 관리자  
**목표**: 카테고리별로 정리된 모든 메뉴를 보고 싶다  
**이유**: 현재 메뉴를 검토하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-006

**수락 기준**:
- **Given** 메뉴 관리 화면에 있을 때
- **When** 메뉴 목록을 보면
- **Then** 카테고리별로 그룹화된 모든 메뉴가 표시되어야 한다
- **And** 각 메뉴에 이름, 가격, 설명, 카테고리, 이미지 URL이 표시되어야 한다
- **And** 카테고리 간 이동이 가능해야 한다

#### US-010-T2: 메뉴 등록
**역할**: 관리자  
**목표**: 새 메뉴 항목을 추가하고 싶다  
**이유**: 메뉴를 확장하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-010-T1

**수락 기준**:
- **Given** 메뉴 관리 화면에 있을 때
- **When** "메뉴 추가"를 클릭하면
- **Then** 메뉴명, 가격, 설명, 카테고리, 이미지 URL 필드가 있는 폼이 표시되어야 한다
- **And** 모든 필수 필드가 검증되어야 한다
- **And** 제출 후 새 메뉴가 목록에 표시되어야 한다
- **And** 성공/실패 피드백이 표시되어야 한다

#### US-010-T3: 메뉴 수정
**역할**: 관리자  
**목표**: 기존 메뉴 항목을 수정하고 싶다  
**이유**: 가격이나 설명을 업데이트하기 위해

**우선순위**: High | **추정치**: S | **의존성**: US-010-T1

**수락 기준**:
- **Given** 메뉴 항목을 보고 있을 때
- **When** "수정"을 클릭하면
- **Then** 현재 값이 채워진 폼이 표시되어야 한다
- **And** 모든 필드를 수정할 수 있어야 한다
- **And** 제출 후 변경이 저장되어야 한다
- **And** 성공/실패 피드백이 표시되어야 한다

#### US-010-T4: 메뉴 삭제
**역할**: 관리자  
**목표**: 메뉴 항목을 삭제하고 싶다  
**이유**: 단종된 항목을 제거하기 위해

**우선순위**: High | **추정치**: S | **의존성**: US-010-T1

**수락 기준**:
- **Given** 메뉴 항목을 보고 있을 때
- **When** "삭제"를 클릭하면
- **Then** 확인 팝업이 표시되어야 한다
- **And** 확인 후 메뉴가 삭제되어야 한다
- **And** 성공/실패 피드백이 표시되어야 한다

#### US-010-T5: 메뉴 노출 순서 조정
**역할**: 관리자  
**목표**: 메뉴의 표시 순서를 변경하고 싶다  
**이유**: 인기 항목을 강조하기 위해

**우선순위**: Low | **추정치**: M | **의존성**: US-010-T1

**수락 기준**:
- **Given** 메뉴 목록을 보고 있을 때
- **When** 드래그 앤 드롭이나 위/아래 버튼을 사용하면
- **Then** 표시 순서가 변경되어야 한다
- **And** 새 순서가 저장되어야 한다
- **And** 고객이 업데이트된 순서를 볼 수 있어야 한다

---

# EPIC 3: 시스템 비기능 요구사항

## Epic: E-003
**역할**: 시스템  
**목표**: 모든 비기능 요구사항을 충족하고 싶다  
**이유**: 서비스가 성능적이고 안전하며 신뢰할 수 있도록 하기 위해

**우선순위**: High  
**추정치**: L  
**의존성**: E-001, E-002

---

# E-003 하위 NFR Stories

## US-011 - API 성능
**역할**: 시스템  
**목표**: API 요청에 100ms 이내로 응답하고 싶다  
**이유**: 사용자가 빠른 상호작용을 경험하도록 하기 위해

**우선순위**: High | **추정치**: M | **의존성**: 모든 API 관련 스토리

### 수락 기준
- **Given** 어떤 API 엔드포인트가 호출될 때
- **When** 요청이 처리되면
- **Then** 95%의 요청에 대해 응답 시간이 100ms 이하여야 한다
- **And** 500명 이상의 동시 사용자를 처리할 수 있어야 한다
- **And** 성능이 모니터링되고 로깅되어야 한다

---

## US-012 - 실시간 통신 성능
**역할**: 시스템  
**목표**: 2초 이내에 주문 업데이트를 전달하고 싶다  
**이유**: 관리자가 빠르게 대응할 수 있도록 하기 위해

**우선순위**: High | **추정치**: M | **의존성**: US-007

### 수락 기준
- **Given** 고객이 주문을 하면
- **When** 주문이 데이터베이스에 저장되면
- **Then** 관리자가 2초 이내에 확인할 수 있어야 한다
- **And** SSE 연결이 안정적으로 유지되어야 한다
- **And** 연결이 끊기면 자동으로 재연결되어야 한다

---

## US-013 - 보안
**역할**: 시스템  
**목표**: 사용자 데이터를 보호하고 무단 접근을 방지하고 싶다  
**이유**: 서비스가 안전하도록 하기 위해

**우선순위**: High | **추정치**: L | **의존성**: US-001, US-006

### 수락 기준
- **Given** 인증이 필요할 때
- **When** 사용자가 로그인하면
- **Then** 비밀번호가 bcrypt로 해싱되어야 한다
- **And** JWT 토큰이 HTTP-only Cookie에 저장되어야 한다
- **And** Access Token은 짧은 만료 시간 (예: 15분)이어야 한다
- **And** Refresh Token은 긴 만료 시간 (예: 7일)이어야 한다
- **And** 토큰이 자동으로 갱신되어야 한다
- **And** 로그인 시도가 제한되어야 한다

---

## US-014 - 데이터 무결성
**역할**: 시스템  
**목표**: 데이터 일관성과 무결성을 보장하고 싶다  
**이유**: 주문과 결제가 정확하도록 하기 위해

**우선순위**: High | **추정치**: M | **의존성**: 모든 데이터 관련 스토리

### 수락 기준
- **Given** 어떤 데이터 작업이 수행될 때
- **When** 데이터가 저장되거나 업데이트되면
- **Then** 데이터베이스 트랜잭션이 사용되어야 한다
- **And** 데이터 검증이 수행되어야 한다
- **And** 참조 무결성이 유지되어야 한다
- **And** 에러가 로깅되어야 한다

---

## US-015 - 로깅 및 모니터링
**역할**: 시스템  
**목표**: 모든 중요한 이벤트와 에러를 로깅하고 싶다  
**이유**: 문제를 진단하고 해결할 수 있도록 하기 위해

**우선순위**: Medium | **추정치**: M | **의존성**: 모든 스토리

### 수락 기준
- **Given** 시스템이 실행 중일 때
- **When** 이벤트나 에러가 발생하면
- **Then** 구조화된 형식으로 로깅되어야 한다
- **And** 로그에 타임스탬프, 레벨, 메시지, 컨텍스트가 포함되어야 한다
- **And** 로그가 파일이나 로깅 서비스에 기록되어야 한다
- **And** 심각한 에러를 쉽게 식별할 수 있어야 한다

---

## US-016 - 테스트 커버리지
**역할**: 개발팀  
**목표**: 포괄적인 테스트 커버리지를 확보하고 싶다  
**이유**: 시스템이 신뢰할 수 있고 유지보수 가능하도록 하기 위해

**우선순위**: High | **추정치**: XL | **의존성**: 모든 스토리

### 수락 기준
- **Given** 코드가 작성되었을 때
- **When** 테스트가 실행되면
- **Then** 단위 테스트가 핵심 비즈니스 로직을 커버해야 한다
- **And** 통합 테스트가 API 엔드포인트를 커버해야 한다
- **And** E2E 테스트가 핵심 사용자 여정을 커버해야 한다
- **And** 테스트가 CI/CD 파이프라인에서 자동화되어야 한다

---

## US-017 - 다국어 지원
**역할**: 시스템  
**목표**: 한국어와 영어를 지원하고 싶다  
**이유**: 다양한 사용자가 서비스를 이용할 수 있도록 하기 위해

**우선순위**: Medium | **추정치**: M | **의존성**: 모든 UI 스토리

### 수락 기준
- **Given** 애플리케이션이 실행 중일 때
- **When** 사용자가 언어를 선택하면
- **Then** 모든 UI 텍스트가 해당 언어로 표시되어야 한다
- **And** 한국어와 영어를 지원해야 한다
- **And** 향후 추가 언어를 지원할 수 있는 아키텍처여야 한다

---

# 스토리 요약

## 전체 스토리 수
- **Epics**: 3개 (E-001, E-002, E-003)
- **Feature Stories**: 10개 (US-001 ~ US-010)
- **Task Stories**: 25개 (US-001-T1 ~ US-010-T5)
- **NFR Stories**: 7개 (US-011 ~ US-017)
- **합계**: 45개 스토리

## 우선순위 분포
- **High**: 38개
- **Medium**: 5개
- **Low**: 2개

## 추정치 분포
- **XS**: 3개
- **S**: 15개
- **M**: 20개
- **L**: 5개
- **XL**: 2개

## 커버리지
- ✅ requirements.md의 모든 요구사항 커버
- ✅ 두 페르소나 (고객, 관리자) 매핑 완료
- ✅ User Journey 기반 접근법 적용
- ✅ INVEST 기준 적용
- ✅ Given-When-Then 수락 기준
- ✅ 의존성 명확히 표시
- ✅ NFR을 별도 스토리로 분리

---

**문서 버전**: 1.0  
**작성일**: 2026-02-25  
**상태**: 생성 완료
